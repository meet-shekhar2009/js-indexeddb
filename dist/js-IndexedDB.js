!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var n=r();for(var t in n)("object"==typeof exports?exports:e)[t]=n[t]}}(window,(function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r){function n(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,u,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,u=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw u}}}}function t(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){if(e){if("string"==typeof e)return u(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,r):void 0}}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,r,n,t,o,u,i){try{var a=e[u](i),c=a.value}catch(e){return void n(e)}a.done?r(c):Promise.resolve(c).then(t,o)}function c(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var u=e.apply(r,n);function i(e){a(u,t,o,i,c,"next",e)}function c(e){a(u,t,o,i,c,"throw",e)}i(void 0)}))}}e.exports.jsIndexedDB=function(){var e=c(regeneratorRuntime.mark((function e(r){var o,u,a,f,s,l,p,d,y,m,b,v,w,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,r&&"object"==i(r)){e.next=3;break}throw Error("Pass a valid cofiguration");case 3:if(r.hasOwnProperty("dbName")&&r.hasOwnProperty("storeConfig")){e.next=5;break}throw Error("dbName and storeConfig are required properties in configuration object");case 5:if(Array.isArray(r.storeConfig)){e.next=7;break}throw Error("storeConfig must be of type array");case 7:return s=function(e,r){if(!e.hasOwnProperty("name"))throw Error("all the elements of storeConfig must have name property");var n=!!e.hasOwnProperty("autoIncrement")&&e.autoIncrement,o=e.hasOwnProperty("keyPath")?e.keyPath:null,u=null;u=o?{keyPath:o,autoIncrement:n}:{autoIncrement:n},r.objectStoreNames&&!t(r.objectStoreNames).some((function(r){return r===e.name}))&&(a=r.createObjectStore(e.name,u))},l=function(e){e.hasOwnProperty("indexes")&&Array.isArray(e.indexes)&&e.indexes.forEach((function(e){if(e.hasOwnProperty("fields")&&Array.isArray(e.fields)&&e.fields.length>0){var r=!!e.hasOwnProperty("isUnique")&&e.isUnique,n=e.fields.join(",").toLowerCase();a&&a.createIndex(n,e.fields,{unique:r})}}))},p=function(){var e=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){if(f){var t=r.version||1;u=f.open(r.dbName,t)}u.onupgradeneeded=function(e){o=u.result,r.storeConfig.forEach((function(e){s(e,o),l(e)}))},u.onsuccess=function(r){o=u.result,e()},u.onerror=function(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e){return new Promise((function(r,n){var t=o.transaction(e,"readwrite");r(t.objectStore(e)),o.onerror=function(e){return n(e)},t.oncomplete=function(e){}}))},y=function(){var e=c(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:e.sent.add(n);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),m=function(){var e=c(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:e.sent.put(n);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),b=function(){var e=c(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:e.sent.delete(n);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),v=function(e){var r=Object.keys(e),t=[];if(r){var o,u=n(r);try{for(u.s();!(o=u.n()).done;){var i=o.value;t.push(e[i])}}catch(e){u.e(e)}finally{u.f()}}return{keys:r.join(",").toLowerCase(),values:t}},w=function(){var e=c(regeneratorRuntime.mark((function e(r,n){var t,o,u,a,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:return t=e.sent,o=null,"object"===i(n)?(u=v(n),a=u.keys,c=u.values,o=t.index(a).get(c)):o=t.get(n),f=new Promise((function(e,r){o.onsuccess=function(){e(o.result)}})),e.abrupt("return",f);case 7:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),h=function(){var e=c(regeneratorRuntime.mark((function e(r){var n,t,o,u,a,c,f,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:void 0,e.next=3,d(r);case 3:return t=e.sent,o=null,"object"===i(n)?(u=v(n),a=u.keys,c=u.values,o=t.index(a).getAll(c)):o=t.getAll(),f=new Promise((function(e,r){o.onsuccess=function(){e(o.result)}})),e.abrupt("return",f);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.next=19,p();case 19:return e.abrupt("return",{add:y,update:m,get:w,getAll:h,delete:b});case 20:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}])}));