!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t){e.exports={jsIndexedDB:async function(e){let t,r,n,o=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(!e||"object"!=typeof e)throw Error("Pass a valid cofiguration");if(!e.hasOwnProperty("dbName")||!e.hasOwnProperty("storeConfig"))throw Error("dbName and storeConfig are required properties in configuration object");if(!Array.isArray(e.storeConfig))throw Error("storeConfig must be of type array");const a=e=>new Promise((r,n)=>{let o=t.transaction(e,"readwrite");r(o.objectStore(e)),t.onerror=e=>n(e),o.oncomplete=e=>{}}),i=e=>{let t=Object.keys(e),r=[];if(t)for(let n of t)r.push(e[n]);return{keys:t.join(",").toLowerCase(),values:r}};return await(async()=>new Promise((a,i)=>{if(o){const t=e.version||1;r=o.open(e.dbName,t)}r.onupgradeneeded=o=>{t=r.result,e.storeConfig.forEach(e=>{var r;((e,t)=>{if(!e.hasOwnProperty("name"))throw Error("all the elements of storeConfig must have name property");let r=!!e.hasOwnProperty("autoIncrement")&&e.autoIncrement,o=e.hasOwnProperty("keyPath")?e.keyPath:null,a=null;a=o?{keyPath:o,autoIncrement:r}:{autoIncrement:r},t.objectStoreNames&&![...t.objectStoreNames].some(t=>t===e.name)&&(n=t.createObjectStore(e.name,a))})(e,t),(r=e).hasOwnProperty("indexes")&&Array.isArray(r.indexes)&&r.indexes.forEach(e=>{if(e.hasOwnProperty("fields")&&Array.isArray(e.fields)&&e.fields.length>0){let t=!!e.hasOwnProperty("isUnique")&&e.isUnique,r=e.fields.join(",").toLowerCase();n&&n.createIndex(r,e.fields,{unique:t})}})})},r.onsuccess=e=>{t=r.result,a()},r.onerror=e=>{i(e)}}))(),{add:async(e,t)=>{(await a(e)).add(t)},update:async(e,t)=>{(await a(e)).put(t)},get:async(e,t)=>{let r=await a(e),n=null;if("object"==typeof t){let{keys:e,values:o}=i(t);n=r.index(e).get(o)}else n=r.get(t);return new Promise((e,t)=>{n.onsuccess=()=>{e(n.result)}})},getAll:async(e,t)=>{let r=await a(e),n=null;if("object"==typeof t){let{keys:e,values:o}=i(t);n=r.index(e).getAll(o)}else n=r.getAll();return new Promise((e,t)=>{n.onsuccess=()=>{e(n.result)}})},delete:async(e,t)=>{(await a(e)).delete(t)}}}}}])}));